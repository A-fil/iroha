syntax = "proto3";
package iroha.protocol;


message Asset {

  message Add {
    string account_name = 1;
    string asset_name = 2;
    string amount = 3;
  }

  message Create{
    string asset_name = 1;
    uint32 precision = 2;
  }

}


message Account {
  // create new account with quorum and signatories
  // account id is defined as the first public key
  // account id = sigs[0].pubkey
  message AddSign {
    string account_name = 1;
    bytes pubkey = 2;
  }

  message Create {
    string account_name = 1;
    bytes main_pubkey = 2;
  }

  message RemoveSign {
    string account_name = 1;
    bytes pubkey = 2;
  }
  message SetPermissions {
    string account_name = 1;
    uint32 permissions = 2;
  }

  message SetQuorum {
    string account_name = 1;
    int32 quorum = 2;
  }

  message Transfer {
    string dst_account_name = 1;
    string src_account_name = 2;
    string amount = 3;
    string asset_name = 4;
  }
}

message Command {

  oneof command {
    Asset.Create asset_create = 1;
    Asset.Add add_asset_quantity = 2;
    Account.AddSign add_signatory = 3;
    Account.Create account_create = 4;
    Account.RemoveSign remove_signatory = 5;
    Account.SetPermissions set_account_permissions = 6;
    Account.SetQuorum set_account_quorum = 7;
    Account.Transfer transfer = 8;
  }
}